{"version":3,"file":"ngx-color-picker.umd.js","sources":["../src/lib/formats.ts","../src/lib/helpers.ts","../src/lib/color-picker.service.ts","../src/lib/color-picker.component.ts","../src/lib/color-picker.directive.ts","../src/lib/color-picker.module.ts"],"sourcesContent":["export enum ColorFormats {\r\n  HEX,\r\n  RGBA,\r\n  HSLA,\r\n  CMYK\r\n}\r\n\r\nexport class Rgba {\r\n  constructor(public r: number, public g: number, public b: number, public a: number) {}\r\n}\r\n\r\nexport class Hsva {\r\n  constructor(public h: number, public s: number, public v: number, public a: number) {}\r\n}\r\n\r\nexport class Hsla {\r\n  constructor(public h: number, public s: number, public l: number, public a: number) {}\r\n}\r\n\r\nexport class Cmyk {\r\n  constructor(public c: number, public m: number, public y: number, public k: number, public a: number = 1) {}\r\n}\r\n","import { Directive, Input, Output, EventEmitter, HostListener, ElementRef } from '@angular/core';\r\n\r\nexport type ColorMode = 'color' | 'c' | '1' |\r\n  'grayscale' | 'g' | '2' | 'presets' | 'p' | '3';\r\n\r\nexport type AlphaChannel = 'enabled' | 'disabled' | 'always' | 'forced';\r\n\r\nexport type OutputFormat = 'auto' | 'hex' | 'rgba' | 'hsla';\r\n\r\nexport function detectIE(): boolean | number {\r\n  let ua = '';\r\n\r\n  if (typeof navigator !== 'undefined') {\r\n    ua = navigator.userAgent.toLowerCase();\r\n  }\r\n\r\n  const msie = ua.indexOf('msie ');\r\n\r\n  if (msie > 0) {\r\n    // IE 10 or older => return version number\r\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n  }\r\n\r\n  // Other browser\r\n  return false;\r\n}\r\n\r\n@Directive({\r\n  selector: '[text]'\r\n})\r\nexport class TextDirective {\r\n  @Input() rg: number;\r\n  @Input() text: any;\r\n\r\n  @Output() newValue = new EventEmitter<any>();\r\n\r\n  @HostListener('input', ['$event']) inputChange(event: any): void {\r\n    const value = event.target.value;\r\n\r\n    if (this.rg === undefined) {\r\n      this.newValue.emit(value);\r\n    } else {\r\n      const numeric = parseFloat(value);\r\n\r\n      this.newValue.emit({ v: numeric, rg: this.rg });\r\n    }\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[slider]'\r\n})\r\nexport class SliderDirective {\r\n  private listenerMove: any;\r\n  private listenerStop: any;\r\n\r\n  @Input() rgX: number;\r\n  @Input() rgY: number;\r\n\r\n  @Input() slider: string;\r\n\r\n  @Output() dragEnd = new EventEmitter();\r\n  @Output() dragStart = new EventEmitter();\r\n\r\n  @Output() newValue = new EventEmitter<any>();\r\n\r\n  @HostListener('mousedown', ['$event']) mouseDown(event: any): void {\r\n    this.start(event);\r\n  }\r\n\r\n  @HostListener('touchstart', ['$event']) touchStart(event: any): void {\r\n    this.start(event);\r\n  }\r\n\r\n  constructor(private elRef: ElementRef) {\r\n    this.listenerMove = (event: any) => this.move(event);\r\n\r\n    this.listenerStop = () => this.stop();\r\n  }\r\n\r\n  private move(event: any): void {\r\n    event.preventDefault();\r\n\r\n    this.setCursor(event);\r\n  }\r\n\r\n  private start(event: any): void {\r\n    this.setCursor(event);\r\n\r\n    event.stopPropagation();\r\n\r\n    document.addEventListener('mouseup', this.listenerStop);\r\n    document.addEventListener('touchend', this.listenerStop);\r\n    document.addEventListener('mousemove', this.listenerMove);\r\n    document.addEventListener('touchmove', this.listenerMove);\r\n\r\n    this.dragStart.emit();\r\n  }\r\n\r\n  private stop(): void {\r\n    document.removeEventListener('mouseup', this.listenerStop);\r\n    document.removeEventListener('touchend', this.listenerStop);\r\n    document.removeEventListener('mousemove', this.listenerMove);\r\n    document.removeEventListener('touchmove', this.listenerMove);\r\n\r\n    this.dragEnd.emit();\r\n  }\r\n\r\n  private getX(event: any): number {\r\n    const position = this.elRef.nativeElement.getBoundingClientRect();\r\n\r\n    const pageX = (event.pageX !== undefined) ? event.pageX : event.touches[0].pageX;\r\n\r\n    return pageX - position.left - window.pageXOffset;\r\n  }\r\n\r\n  private getY(event: any): number {\r\n    const position = this.elRef.nativeElement.getBoundingClientRect();\r\n\r\n    const pageY = (event.pageY !== undefined) ? event.pageY : event.touches[0].pageY;\r\n\r\n    return pageY - position.top - window.pageYOffset;\r\n  }\r\n\r\n  private setCursor(event: any): void {\r\n    const width = this.elRef.nativeElement.offsetWidth;\r\n    const height = this.elRef.nativeElement.offsetHeight;\r\n\r\n    const x = Math.max(0, Math.min(this.getX(event), width));\r\n    const y = Math.max(0, Math.min(this.getY(event), height));\r\n\r\n    if (this.rgX !== undefined && this.rgY !== undefined) {\r\n      this.newValue.emit({ s: x / width, v: (1 - y / height), rgX: this.rgX, rgY: this.rgY });\r\n    } else if (this.rgX === undefined && this.rgY !== undefined) {\r\n      this.newValue.emit({ v: y / height, rgY: this.rgY });\r\n    } else if (this.rgX !== undefined && this.rgY === undefined) {\r\n      this.newValue.emit({ v: x / width, rgX: this.rgX });\r\n    }\r\n  }\r\n}\r\n\r\nexport class SliderPosition {\r\n  constructor(public h: number, public s: number, public v: number, public a: number) {}\r\n}\r\n\r\nexport class SliderDimension {\r\n  constructor(public h: number, public s: number, public v: number, public a: number) {}\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Cmyk, Rgba, Hsla, Hsva } from './formats';\r\n\r\nimport { ColorPickerComponent } from './color-picker.component';\r\n\r\n@Injectable()\r\nexport class ColorPickerService {\r\n  private active: ColorPickerComponent | null = null;\r\n\r\n  constructor() {}\r\n\r\n  public setActive(active: ColorPickerComponent | null): void {\r\n    if (this.active && this.active !== active && this.active.cpDialogDisplay !== 'inline') {\r\n      this.active.closeDialog();\r\n    }\r\n\r\n    this.active = active;\r\n  }\r\n\r\n  public hsva2hsla(hsva: Hsva): Hsla {\r\n    const h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;\r\n\r\n    if (v === 0) {\r\n      return new Hsla(h, 0, 0, a);\r\n    } else if (s === 0 && v === 1) {\r\n      return new Hsla(h, 1, 1, a);\r\n    } else {\r\n      const l = v * (2 - s) / 2;\r\n\r\n      return new Hsla(h, v * s / (1 - Math.abs(2 * l - 1)), l, a);\r\n    }\r\n  }\r\n\r\n  public hsla2hsva(hsla: Hsla): Hsva {\r\n    const h = Math.min(hsla.h, 1), s = Math.min(hsla.s, 1);\r\n    const l = Math.min(hsla.l, 1), a = Math.min(hsla.a, 1);\r\n\r\n    if (l === 0) {\r\n      return new Hsva(h, 0, 0, a);\r\n    } else {\r\n      const v = l + s * (1 - Math.abs(2 * l - 1)) / 2;\r\n\r\n      return new Hsva(h, 2 * (v - l) / v, v, a);\r\n    }\r\n  }\r\n\r\n  public hsvaToRgba(hsva: Hsva): Rgba {\r\n    let r: number, g: number, b: number;\r\n\r\n    const h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;\r\n\r\n    const i = Math.floor(h * 6);\r\n    const f = h * 6 - i;\r\n    const p = v * (1 - s);\r\n    const q = v * (1 - f * s);\r\n    const t = v * (1 - (1 - f) * s);\r\n\r\n    switch (i % 6) {\r\n      case 0:\r\n        r = v, g = t, b = p;\r\n        break;\r\n      case 1:\r\n        r = q, g = v, b = p;\r\n        break;\r\n      case 2:\r\n        r = p, g = v, b = t;\r\n        break;\r\n      case 3:\r\n        r = p, g = q, b = v;\r\n        break;\r\n      case 4:\r\n        r = t, g = p, b = v;\r\n        break;\r\n      case 5:\r\n        r = v, g = p, b = q;\r\n        break;\r\n      default:\r\n        r = 0, g = 0, b = 0;\r\n    }\r\n\r\n    return new Rgba(r, g, b, a);\r\n  }\r\n\r\n  public cmykToRgb(cmyk: Cmyk): Rgba {\r\n    const r = ( 1 - cmyk.c ) * (1 - cmyk.k);\r\n    const g = ( 1 - cmyk.m ) * (1 - cmyk.k);\r\n    const b = ( 1 - cmyk.y ) * (1 - cmyk.k);\r\n\r\n    return new Rgba(r, g, b, cmyk.a);\r\n  }\r\n\r\n  public rgbaToCmyk(rgba: Rgba): Cmyk {\r\n    const k: number = 1 - Math.max(rgba.r, rgba.g, rgba.b);\r\n\r\n    if (k === 1) {\r\n      return new Cmyk(0, 0, 0, 1, rgba.a);\r\n    } else {\r\n      const c = (1 - rgba.r - k) / (1 - k);\r\n      const m = (1 - rgba.g - k) / (1 - k);\r\n      const y = (1 - rgba.b - k) / (1 - k);\r\n\r\n      return new Cmyk(c, m, y, k, rgba.a);\r\n    }\r\n  }\r\n\r\n  public rgbaToHsva(rgba: Rgba): Hsva {\r\n    let h: number, s: number;\r\n\r\n    const r = Math.min(rgba.r, 1), g = Math.min(rgba.g, 1);\r\n    const b = Math.min(rgba.b, 1), a = Math.min(rgba.a, 1);\r\n\r\n    const max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n\r\n    const v: number = max, d = max - min;\r\n\r\n    s = (max === 0) ? 0 : d / max;\r\n\r\n    if (max === min) {\r\n      h = 0;\r\n    } else {\r\n      switch (max) {\r\n        case r:\r\n          h = (g - b) / d + (g < b ? 6 : 0);\r\n          break;\r\n        case g:\r\n          h = (b - r) / d + 2;\r\n          break;\r\n        case b:\r\n          h = (r - g) / d + 4;\r\n          break;\r\n        default:\r\n          h = 0;\r\n      }\r\n\r\n      h /= 6;\r\n    }\r\n\r\n    return new Hsva(h, s, v, a);\r\n  }\r\n\r\n  public rgbaToHex(rgba: Rgba, allowHex8?: boolean): string {\r\n    /* tslint:disable:no-bitwise */\r\n    let hex = '#' + ((1 << 24) | (rgba.r << 16) | (rgba.g << 8) | rgba.b).toString(16).substr(1);\r\n\r\n    if (allowHex8) {\r\n      hex += ((1 << 8) | Math.round(rgba.a * 255)).toString(16).substr(1);\r\n    }\r\n    /* tslint:enable:no-bitwise */\r\n\r\n    return hex;\r\n  }\r\n\r\n  public normalizeCMYK(cmyk: Cmyk): Cmyk {\r\n    return new Cmyk(cmyk.c / 100, cmyk.m / 100, cmyk.y / 100, cmyk.k / 100, cmyk.a);\r\n  }\r\n\r\n  public denormalizeCMYK(cmyk: Cmyk): Cmyk {\r\n    return new Cmyk(Math.floor(cmyk.c * 100), Math.floor(cmyk.m * 100), Math.floor(cmyk.y * 100),\r\n      Math.floor(cmyk.k * 100), cmyk.a);\r\n  }\r\n\r\n  public denormalizeRGBA(rgba: Rgba): Rgba {\r\n    return new Rgba(Math.round(rgba.r * 255), Math.round(rgba.g * 255), Math.round(rgba.b * 255), rgba.a);\r\n  }\r\n\r\n  public stringToHsva(colorString: string = '', allowHex8: boolean = false): Hsva | null {\r\n    let hsva: Hsva | null = null;\r\n\r\n    colorString = (colorString || '').toLowerCase();\r\n\r\n    const stringParsers = [\r\n      {\r\n        re: /(rgb)a?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*%?,\\s*(\\d{1,3})\\s*%?(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\r\n        parse: function(execResult: any) {\r\n          return new Rgba(parseInt(execResult[2], 10) / 255,\r\n            parseInt(execResult[3], 10) / 255,\r\n            parseInt(execResult[4], 10) / 255,\r\n            isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));\r\n        }\r\n      }, {\r\n        re: /(hsl)a?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})%\\s*,\\s*(\\d{1,3})%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\r\n        parse: function(execResult: any) {\r\n          return new Hsla(parseInt(execResult[2], 10) / 360,\r\n            parseInt(execResult[3], 10) / 100,\r\n            parseInt(execResult[4], 10) / 100,\r\n            isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));\r\n        }\r\n      }\r\n    ];\r\n\r\n    if (allowHex8) {\r\n      stringParsers.push({\r\n        re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,\r\n        parse: function(execResult: any) {\r\n          return new Rgba(parseInt(execResult[1], 16) / 255,\r\n            parseInt(execResult[2], 16) / 255,\r\n            parseInt(execResult[3], 16) / 255,\r\n            parseInt(execResult[4] || 'FF', 16) / 255);\r\n        }\r\n      });\r\n    } else {\r\n      stringParsers.push({\r\n        re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,\r\n        parse: function(execResult: any) {\r\n          return new Rgba(parseInt(execResult[1], 16) / 255,\r\n            parseInt(execResult[2], 16) / 255,\r\n            parseInt(execResult[3], 16) / 255,\r\n            1);\r\n        }\r\n      });\r\n    }\r\n\r\n    stringParsers.push({\r\n      re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,\r\n      parse: function(execResult: any) {\r\n        return new Rgba(parseInt(execResult[1] + execResult[1], 16) / 255,\r\n          parseInt(execResult[2] + execResult[2], 16) / 255,\r\n          parseInt(execResult[3] + execResult[3], 16) / 255,\r\n          1);\r\n      }\r\n    });\r\n\r\n    for (const key in stringParsers) {\r\n      if (stringParsers.hasOwnProperty(key)) {\r\n        const parser = stringParsers[key];\r\n\r\n        const match = parser.re.exec(colorString), color: any = match && parser.parse(match);\r\n\r\n        if (color) {\r\n          if (color instanceof Rgba) {\r\n            hsva = this.rgbaToHsva(color);\r\n          } else if (color instanceof Hsla) {\r\n            hsva = this.hsla2hsva(color);\r\n          }\r\n\r\n          return hsva;\r\n        }\r\n      }\r\n    }\r\n\r\n    return hsva;\r\n  }\r\n\r\n  public outputFormat(hsva: Hsva, outputFormat: string, alphaChannel: string | null): string {\r\n    if (outputFormat === 'auto') {\r\n      outputFormat = hsva.a < 1 ? 'rgba' : 'hex';\r\n    }\r\n\r\n    switch (outputFormat) {\r\n      case 'hsla':\r\n        const hsla = this.hsva2hsla(hsva);\r\n\r\n        const hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100),\r\n          Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);\r\n\r\n        if (hsva.a < 1 || alphaChannel === 'always') {\r\n          return 'hsla(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%,' +\r\n            hslaText.a + ')';\r\n        } else {\r\n          return 'hsl(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%)';\r\n        }\r\n\r\n      case 'rgba':\r\n        const rgba = this.denormalizeRGBA(this.hsvaToRgba(hsva));\r\n\r\n        if (hsva.a < 1 || alphaChannel === 'always') {\r\n          return 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ',' +\r\n            Math.round(rgba.a * 100) / 100 + ')';\r\n        } else {\r\n          return 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\r\n        }\r\n\r\n      default:\r\n        const allowHex8 = (alphaChannel === 'always' || alphaChannel === 'forced');\r\n\r\n        return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(hsva)), allowHex8);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, OnDestroy, AfterViewInit,\r\n  ViewChild, HostListener, ViewEncapsulation,\r\n  ElementRef, ChangeDetectorRef } from '@angular/core';\r\n\r\nimport { detectIE } from './helpers';\r\n\r\nimport { ColorFormats, Cmyk, Hsla, Hsva, Rgba } from './formats';\r\nimport { AlphaChannel, OutputFormat, SliderDimension, SliderPosition } from './helpers';\r\n\r\nimport { ColorPickerService } from './color-picker.service';\r\n\r\n@Component({\r\n  selector: 'color-picker',\r\n  templateUrl: '../../dist/lib/color-picker.component.html',\r\n  styleUrls: [ '../../dist/lib/color-picker.component.css' ],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ColorPickerComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  private isIE10: boolean = false;\r\n\r\n  private cmyk: Cmyk;\r\n  private hsva: Hsva;\r\n\r\n  private width: number;\r\n  private height: number;\r\n\r\n  private cmykColor: string;\r\n  private outputColor: string;\r\n  private initialColor: string;\r\n  private fallbackColor: string;\r\n\r\n  private listenerResize: any;\r\n  private listenerMouseDown: any;\r\n\r\n  private directiveInstance: any;\r\n\r\n  private sliderH: number;\r\n  private sliderDimMax: SliderDimension;\r\n  private directiveElementRef: ElementRef;\r\n\r\n  private dialogArrowSize: number = 10;\r\n  private dialogArrowOffset: number = 15;\r\n\r\n  private dialogInputFields: ColorFormats[] = [\r\n    ColorFormats.HEX,\r\n    ColorFormats.RGBA,\r\n    ColorFormats.HSLA,\r\n    ColorFormats.CMYK\r\n  ];\r\n\r\n  private useRootViewContainer: boolean = false;\r\n\r\n  public show: boolean;\r\n  public hidden: boolean;\r\n\r\n  public top: number;\r\n  public offsetTop: number;\r\n  public left: number;\r\n  public offsetLeft: number;\r\n  public position: string;\r\n\r\n  public format: ColorFormats;\r\n  public slider: SliderPosition;\r\n\r\n  public hexText: string;\r\n  public hexAlpha: number;\r\n\r\n  public cmykText: Cmyk;\r\n  public hslaText: Hsla;\r\n  public rgbaText: Rgba;\r\n\r\n  public arrowTop: number;\r\n\r\n  public selectedColor: string;\r\n  public hueSliderColor: string;\r\n  public alphaSliderColor: string;\r\n\r\n  public cpWidth: number;\r\n  public cpHeight: number;\r\n\r\n  public cpColorMode: number;\r\n\r\n  public cpCmykEnabled: boolean;\r\n\r\n  public cpAlphaChannel: AlphaChannel;\r\n  public cpOutputFormat: OutputFormat;\r\n\r\n  public cpDisableInput: boolean;\r\n  public cpDialogDisplay: string;\r\n\r\n  public cpIgnoredElements: any;\r\n\r\n  public cpSaveClickOutside: boolean;\r\n  public cpCloseClickOutside: boolean;\r\n\r\n  public cpPosition: string;\r\n  public cpUsePosition: string;\r\n  public cpPositionOffset: number;\r\n\r\n  public cpOKButton: boolean;\r\n  public cpOKButtonText: string;\r\n  public cpOKButtonClass: string;\r\n\r\n  public cpCancelButton: boolean;\r\n  public cpCancelButtonText: string;\r\n  public cpCancelButtonClass: string;\r\n\r\n  public cpPresetLabel: string;\r\n  public cpPresetColors: string[];\r\n  public cpMaxPresetColorsLength: number;\r\n\r\n  public cpPresetEmptyMessage: string;\r\n  public cpPresetEmptyMessageClass: string;\r\n\r\n  public cpAddColorButton: boolean;\r\n  public cpAddColorButtonText: string;\r\n  public cpAddColorButtonClass: string;\r\n  public cpRemoveColorButtonClass: string;\r\n\r\n  @ViewChild('dialogPopup', { static: true }) dialogElement: ElementRef;\r\n\r\n  @ViewChild('hueSlider', { static: true }) hueSlider: ElementRef;\r\n  @ViewChild('alphaSlider', { static: true }) alphaSlider: ElementRef;\r\n\r\n  @HostListener('document:keyup.esc', ['$event']) handleEsc(event: any): void {\r\n    if (this.show && this.cpDialogDisplay === 'popup') {\r\n      this.onCancelColor(event);\r\n    }\r\n  }\r\n\r\n  @HostListener('document:keyup.enter', ['$event']) handleEnter(event: any): void {\r\n    if (this.show && this.cpDialogDisplay === 'popup') {\r\n      this.onAcceptColor(event);\r\n    }\r\n  }\r\n\r\n  constructor(private elRef: ElementRef, private cdRef: ChangeDetectorRef, private service: ColorPickerService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.slider = new SliderPosition(0, 0, 0, 0);\r\n\r\n    const hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;\r\n    const alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;\r\n\r\n    this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);\r\n\r\n    if (this.cpCmykEnabled) {\r\n      this.format = ColorFormats.CMYK;\r\n    } else if (this.cpOutputFormat === 'rgba') {\r\n      this.format = ColorFormats.RGBA;\r\n    } else if (this.cpOutputFormat === 'hsla') {\r\n      this.format = ColorFormats.HSLA;\r\n    } else {\r\n      this.format = ColorFormats.HEX;\r\n    }\r\n\r\n    this.listenerMouseDown = (event: any) => { this.onMouseDown(event); };\r\n    this.listenerResize = () => { this.onResize(); };\r\n\r\n    this.openDialog(this.initialColor, false);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.closeDialog();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.cpWidth !== 230 ||Â this.cpDialogDisplay === 'inline') {\r\n      const hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;\r\n      const alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;\r\n\r\n      this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);\r\n\r\n      this.updateColorPicker(false);\r\n\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public openDialog(color: any, emit: boolean = true): void {\r\n    this.service.setActive(this);\r\n\r\n    if (!this.width) {\r\n      this.cpWidth = this.directiveElementRef.nativeElement.offsetWidth;\r\n    }\r\n\r\n    if (!this.height) {\r\n      this.height = 320;\r\n    }\r\n\r\n    this.setInitialColor(color);\r\n\r\n    this.setColorFromString(color, emit);\r\n\r\n    this.openColorPicker();\r\n  }\r\n\r\n  public closeDialog(): void {\r\n    this.closeColorPicker();\r\n  }\r\n\r\n  public setupDialog(instance: any, elementRef: ElementRef, color: any,\r\n    cpWidth: string, cpHeight: string, cpDialogDisplay: string, cpFallbackColor: string,\r\n    cpColorMode: string, cpCmykEnabled: boolean, cpAlphaChannel: AlphaChannel,\r\n    cpOutputFormat: OutputFormat, cpDisableInput: boolean, cpIgnoredElements: any,\r\n    cpSaveClickOutside: boolean, cpCloseClickOutside: boolean, cpUseRootViewContainer: boolean,\r\n    cpPosition: string, cpPositionOffset: string, cpPositionRelativeToArrow: boolean,\r\n    cpPresetLabel: string, cpPresetColors: string[], cpMaxPresetColorsLength: number,\r\n    cpPresetEmptyMessage: string, cpPresetEmptyMessageClass: string, cpOKButton: boolean,\r\n    cpOKButtonClass: string, cpOKButtonText: string, cpCancelButton: boolean,\r\n    cpCancelButtonClass: string, cpCancelButtonText: string, cpAddColorButton: boolean,\r\n    cpAddColorButtonClass: string, cpAddColorButtonText: string, cpRemoveColorButtonClass: string): void\r\n  {\r\n    this.setInitialColor(color);\r\n\r\n    this.setColorMode(cpColorMode);\r\n\r\n    this.isIE10 = (detectIE() === 10);\r\n\r\n    this.directiveInstance = instance;\r\n    this.directiveElementRef = elementRef;\r\n\r\n    this.cpDisableInput = cpDisableInput;\r\n\r\n    this.cpCmykEnabled = cpCmykEnabled;\r\n    this.cpAlphaChannel = cpAlphaChannel;\r\n    this.cpOutputFormat = cpOutputFormat;\r\n\r\n    this.cpDialogDisplay = cpDialogDisplay;\r\n\r\n    this.cpIgnoredElements = cpIgnoredElements;\r\n\r\n    this.cpSaveClickOutside = cpSaveClickOutside;\r\n    this.cpCloseClickOutside = cpCloseClickOutside;\r\n\r\n    this.useRootViewContainer = cpUseRootViewContainer;\r\n\r\n    this.width = this.cpWidth = parseInt(cpWidth, 10);\r\n    this.height = this.cpHeight = parseInt(cpHeight, 10);\r\n\r\n    this.cpPosition = cpPosition;\r\n    this.cpPositionOffset = parseInt(cpPositionOffset, 10);\r\n\r\n    this.cpOKButton = cpOKButton;\r\n    this.cpOKButtonText = cpOKButtonText;\r\n    this.cpOKButtonClass = cpOKButtonClass;\r\n\r\n    this.cpCancelButton = cpCancelButton;\r\n    this.cpCancelButtonText = cpCancelButtonText;\r\n    this.cpCancelButtonClass = cpCancelButtonClass;\r\n\r\n    this.fallbackColor = cpFallbackColor || '#fff';\r\n\r\n    this.setPresetConfig(cpPresetLabel, cpPresetColors);\r\n\r\n    this.cpMaxPresetColorsLength = cpMaxPresetColorsLength;\r\n    this.cpPresetEmptyMessage = cpPresetEmptyMessage;\r\n    this.cpPresetEmptyMessageClass = cpPresetEmptyMessageClass;\r\n\r\n    this.cpAddColorButton = cpAddColorButton;\r\n    this.cpAddColorButtonText = cpAddColorButtonText;\r\n    this.cpAddColorButtonClass = cpAddColorButtonClass;\r\n    this.cpRemoveColorButtonClass = cpRemoveColorButtonClass;\r\n\r\n    if (!cpPositionRelativeToArrow) {\r\n      this.dialogArrowOffset = 0;\r\n    }\r\n\r\n    if (cpDialogDisplay === 'inline') {\r\n      this.dialogArrowSize = 0;\r\n      this.dialogArrowOffset = 0;\r\n    }\r\n\r\n    if (cpOutputFormat === 'hex' &&\r\n        cpAlphaChannel !== 'always' && cpAlphaChannel !== 'forced')\r\n    {\r\n      this.cpAlphaChannel = 'disabled';\r\n    }\r\n  }\r\n\r\n  public setColorMode(mode: string): void {\r\n    switch (mode.toString().toUpperCase()) {\r\n      case '1':\r\n      case 'C':\r\n      case 'COLOR':\r\n        this.cpColorMode = 1;\r\n        break;\r\n      case '2':\r\n      case 'G':\r\n      case 'GRAYSCALE':\r\n        this.cpColorMode = 2;\r\n        break;\r\n      case '3':\r\n      case 'P':\r\n      case 'PRESETS':\r\n        this.cpColorMode = 3;\r\n        break;\r\n      default:\r\n        this.cpColorMode = 1;\r\n    }\r\n  }\r\n\r\n  public setInitialColor(color: any): void {\r\n    this.initialColor = color;\r\n  }\r\n\r\n  public setPresetConfig(cpPresetLabel: string, cpPresetColors: string[]): void {\r\n    this.cpPresetLabel = cpPresetLabel;\r\n    this.cpPresetColors = cpPresetColors;\r\n  }\r\n\r\n  public setColorFromString(value: string, emit: boolean = true, update: boolean = true): void {\r\n    let hsva: Hsva | null;\r\n\r\n    if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'forced') {\r\n      hsva = this.service.stringToHsva(value, true);\r\n\r\n      if (!hsva && !this.hsva) {\r\n        hsva = this.service.stringToHsva(value, false);\r\n      }\r\n    } else {\r\n      hsva = this.service.stringToHsva(value, false);\r\n    }\r\n\r\n    if (!hsva && !this.hsva) {\r\n      hsva = this.service.stringToHsva(this.fallbackColor, false);\r\n    }\r\n\r\n    if (hsva) {\r\n      this.hsva = hsva;\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker(emit, update);\r\n    }\r\n  }\r\n\r\n  public onResize(): void {\r\n    if (this.position === 'fixed') {\r\n      this.setDialogPosition();\r\n    } else if (this.cpDialogDisplay !== 'inline') {\r\n      this.closeColorPicker();\r\n    }\r\n  }\r\n\r\n  public onDragEnd(slider: string): void {\r\n    this.directiveInstance.sliderDragEnd({ slider: slider, color: this.outputColor });\r\n  }\r\n\r\n  public onDragStart(slider: string): void {\r\n    this.directiveInstance.sliderDragStart({ slider: slider, color: this.outputColor });\r\n  }\r\n\r\n  public onMouseDown(event: MouseEvent): void {\r\n    if (this.show &&\r\n        !this.isIE10 && this.cpDialogDisplay === 'popup' &&\r\n        event.target !== this.directiveElementRef.nativeElement &&\r\n        !this.isDescendant(this.elRef.nativeElement, event.target) &&\r\n        !this.isDescendant(this.directiveElementRef.nativeElement, event.target) &&\r\n        this.cpIgnoredElements.filter((item: any) => item === event.target).length === 0)\r\n    {\r\n      if (this.cpSaveClickOutside) {\r\n        this.directiveInstance.colorSelected(this.outputColor);\r\n      } else {\r\n        this.setColorFromString(this.initialColor, false);\r\n\r\n        if (this.cpCmykEnabled) {\r\n          this.directiveInstance.cmykChanged(this.cmykColor);\r\n        }\r\n\r\n        this.directiveInstance.colorChanged(this.outputColor);\r\n      }\r\n\r\n      if (this.cpCloseClickOutside) {\r\n        this.closeColorPicker();\r\n      }\r\n    }\r\n  }\r\n\r\n  public onAcceptColor(event: Event): void {\r\n    event.stopPropagation();\r\n\r\n    if (this.outputColor) {\r\n      this.directiveInstance.colorSelected(this.outputColor);\r\n    }\r\n\r\n    if (this.cpDialogDisplay === 'popup') {\r\n      this.closeColorPicker();\r\n    }\r\n  }\r\n\r\n  public onCancelColor(event: Event): void {\r\n    event.stopPropagation();\r\n\r\n    this.setColorFromString(this.initialColor, true);\r\n\r\n    if (this.cpDialogDisplay === 'popup') {\r\n      if (this.cpCmykEnabled) {\r\n        this.directiveInstance.cmykChanged(this.cmykColor);\r\n      }\r\n\r\n      this.directiveInstance.colorChanged(this.outputColor, true);\r\n\r\n      this.closeColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.colorCanceled();\r\n  }\r\n\r\n  public onFormatToggle(change: number): void {\r\n    const availableFormats = this.dialogInputFields.length -\r\n      (this.cpCmykEnabled ? 0 : 1);\r\n\r\n    const nextFormat = (((this.dialogInputFields.indexOf(this.format) + change) %\r\n      availableFormats) + availableFormats) % availableFormats;\r\n\r\n    this.format = this.dialogInputFields[nextFormat];\r\n  }\r\n\r\n  public onColorChange(value: { s: number, v: number, rgX: number, rgY: number }): void {\r\n    this.hsva.s = value.s / value.rgX;\r\n    this.hsva.v = value.v / value.rgY;\r\n\r\n    this.updateColorPicker();\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'lightness',\r\n      value: this.hsva.v,\r\n      color: this.outputColor\r\n    });\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'saturation',\r\n      value: this.hsva.s,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onHueChange(value: { v: number, rgX: number }): void {\r\n    this.hsva.h = value.v / value.rgX;\r\n    this.sliderH = this.hsva.h;\r\n\r\n    this.updateColorPicker();\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'hue',\r\n      value: this.hsva.h,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onValueChange(value: { v: number, rgX: number }): void {\r\n    this.hsva.v = value.v / value.rgX;\r\n\r\n    this.updateColorPicker();\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'value',\r\n      value: this.hsva.v,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onAlphaChange(value: { v: number, rgX: number }): void {\r\n    this.hsva.a = value.v / value.rgX;\r\n\r\n    this.updateColorPicker();\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'alpha',\r\n      value: this.hsva.a,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onHexInput(value: string | null): void {\r\n    if (value === null) {\r\n      this.updateColorPicker();\r\n    } else {\r\n      if (value && value[0] !== '#') {\r\n        value = '#' + value;\r\n      }\r\n\r\n      let validHex = /^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;\r\n\r\n      if (this.cpAlphaChannel === 'always') {\r\n        validHex = /^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi;\r\n      }\r\n\r\n      const valid = validHex.test(value);\r\n\r\n      if (valid) {\r\n        if (value.length < 5) {\r\n          value = '#' + value.substring(1)\r\n            .split('')\r\n            .map(c => c + c)\r\n            .join('');\r\n        }\r\n\r\n        if (this.cpAlphaChannel === 'forced') {\r\n          value += Math.round(this.hsva.a * 255).toString(16);\r\n        }\r\n\r\n        this.setColorFromString(value, true, false);\r\n      }\r\n\r\n      this.directiveInstance.inputChanged({\r\n        input: 'hex',\r\n        valid: valid,\r\n        value: value,\r\n        color: this.outputColor\r\n      });\r\n    }\r\n  }\r\n\r\n  public onRedInput(value: { v: number, rg: number }): void {\r\n    const rgba = this.service.hsvaToRgba(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      rgba.r = value.v / value.rg;\r\n\r\n      this.hsva = this.service.rgbaToHsva(rgba);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'red',\r\n      valid: valid,\r\n      value: rgba.r,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onBlueInput(value: { v: number, rg: number }): void {\r\n    const rgba = this.service.hsvaToRgba(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      rgba.b = value.v / value.rg;\r\n\r\n      this.hsva = this.service.rgbaToHsva(rgba);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'blue',\r\n      valid: valid,\r\n      value: rgba.b,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onGreenInput(value: { v: number, rg: number }): void {\r\n    const rgba = this.service.hsvaToRgba(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      rgba.g = value.v / value.rg;\r\n\r\n      this.hsva = this.service.rgbaToHsva(rgba);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'green',\r\n      valid: valid,\r\n      value: rgba.g,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onHueInput(value: { v: number, rg: number }) {\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      this.hsva.h = value.v / value.rg;\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'hue',\r\n      valid: valid,\r\n      value: this.hsva.h,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onValueInput(value: { v: number, rg: number }): void {\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      this.hsva.v = value.v / value.rg;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'value',\r\n      valid: valid,\r\n      value: this.hsva.v,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onAlphaInput(value: { v: number, rg: number }): void {\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      this.hsva.a = value.v / value.rg;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'alpha',\r\n      valid: valid,\r\n      value: this.hsva.a,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onLightnessInput(value: { v: number, rg: number }): void {\r\n    const hsla = this.service.hsva2hsla(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      hsla.l = value.v / value.rg;\r\n\r\n      this.hsva = this.service.hsla2hsva(hsla);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'lightness',\r\n      valid: valid,\r\n      value: hsla.l,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onSaturationInput(value: { v: number, rg: number }): void {\r\n    const hsla = this.service.hsva2hsla(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      hsla.s = value.v / value.rg;\r\n\r\n      this.hsva = this.service.hsla2hsva(hsla);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'saturation',\r\n      valid: valid,\r\n      value: hsla.s,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onCyanInput(value: { v: number, rg: number }): void {\r\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n     if (valid) {\r\n      this.cmyk.c = value.v;\r\n\r\n      this.updateColorPicker(false, true, true);\r\n    }\r\n\r\n     this.directiveInstance.inputChanged({\r\n      input: 'cyan',\r\n      valid: true,\r\n      value: this.cmyk.c,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n   public onMagentaInput(value: { v: number, rg: number }): void {\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n     if (valid) {\r\n      this.cmyk.m = value.v;\r\n\r\n      this.updateColorPicker(false, true, true);\r\n    }\r\n\r\n     this.directiveInstance.inputChanged({\r\n      input: 'magenta',\r\n      valid: true,\r\n      value: this.cmyk.m,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onYellowInput(value: { v: number, rg: number }): void {\r\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n     if (valid) {\r\n      this.cmyk.y = value.v;\r\n\r\n      this.updateColorPicker(false, true, true);\r\n    }\r\n\r\n     this.directiveInstance.inputChanged({\r\n      input: 'yellow',\r\n      valid: true,\r\n      value: this.cmyk.y,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n   public onBlackInput(value: { v: number, rg: number }): void {\r\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n     if (valid) {\r\n      this.cmyk.k = value.v;\r\n\r\n      this.updateColorPicker(false, true, true);\r\n    }\r\n\r\n     this.directiveInstance.inputChanged({\r\n      input: 'black',\r\n      valid: true,\r\n      value: this.cmyk.k,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onAddPresetColor(event: any, value: string): void {\r\n    event.stopPropagation();\r\n\r\n    if (!this.cpPresetColors.filter((color) => (color === value)).length) {\r\n      this.cpPresetColors = this.cpPresetColors.concat(value);\r\n\r\n      this.directiveInstance.presetColorsChanged(this.cpPresetColors);\r\n    }\r\n  }\r\n\r\n  public onRemovePresetColor(event: any, value: string): void {\r\n    event.stopPropagation();\r\n\r\n    this.cpPresetColors = this.cpPresetColors.filter((color) => (color !== value));\r\n\r\n    this.directiveInstance.presetColorsChanged(this.cpPresetColors);\r\n  }\r\n\r\n  // Private helper functions for the color picker dialog status\r\n\r\n  private openColorPicker(): void {\r\n    if (!this.show) {\r\n      this.show = true;\r\n      this.hidden = true;\r\n\r\n      setTimeout(() => {\r\n        this.hidden = false;\r\n\r\n        this.setDialogPosition();\r\n\r\n        this.cdRef.detectChanges();\r\n      }, 0);\r\n\r\n      this.directiveInstance.stateChanged(true);\r\n\r\n      if (!this.isIE10) {\r\n        document.addEventListener('mousedown', this.listenerMouseDown);\r\n        document.addEventListener('touchstart', this.listenerMouseDown);\r\n      }\r\n\r\n      window.addEventListener('resize', this.listenerResize);\r\n    }\r\n  }\r\n\r\n  private closeColorPicker(): void {\r\n    if (this.show) {\r\n      this.show = false;\r\n\r\n      this.directiveInstance.stateChanged(false);\r\n\r\n      if (!this.isIE10) {\r\n        document.removeEventListener('mousedown', this.listenerMouseDown);\r\n        document.removeEventListener('touchstart', this.listenerMouseDown);\r\n      }\r\n\r\n      window.removeEventListener('resize', this.listenerResize);\r\n\r\n      if (!this.cdRef['destroyed']) {\r\n        this.cdRef.detectChanges();\r\n      }\r\n    }\r\n  }\r\n\r\n  private updateColorPicker(emit: boolean = true, update: boolean = true, cmykInput: boolean = false): void {\r\n    if (this.sliderDimMax) {\r\n      if (this.cpColorMode === 2) {\r\n        this.hsva.s = 0;\r\n      }\r\n\r\n      let hue: Rgba, hsla: Hsla, rgba: Rgba;\r\n\r\n      const lastOutput = this.outputColor;\r\n\r\n      hsla = this.service.hsva2hsla(this.hsva);\r\n\r\n      if (!this.cpCmykEnabled) {\r\n        rgba = this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva));\r\n      } else {\r\n        if (!cmykInput) {\r\n          rgba = this.service.hsvaToRgba(this.hsva);\r\n\r\n          this.cmyk = this.service.denormalizeCMYK(this.service.rgbaToCmyk(rgba));\r\n        } else {\r\n          rgba = this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk));\r\n\r\n          this.hsva = this.service.rgbaToHsva(rgba);\r\n        }\r\n\r\n        rgba = this.service.denormalizeRGBA(rgba);\r\n\r\n        this.sliderH = this.hsva.h;\r\n      }\r\n\r\n      hue = this.service.denormalizeRGBA(this.service.hsvaToRgba(new Hsva(this.sliderH || this.hsva.h, 1, 1, 1)));\r\n\r\n      if (update) {\r\n        this.hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100),\r\n          Math.round(hsla.a * 100) / 100);\r\n\r\n        this.rgbaText = new Rgba(rgba.r, rgba.g, rgba.b, Math.round(rgba.a * 100) / 100);\r\n\r\n        if (this.cpCmykEnabled) {\r\n          this.cmykText = new Cmyk(this.cmyk.c, this.cmyk.m, this.cmyk.y, this.cmyk.k,\r\n            Math.round(this.cmyk.a * 100) / 100);\r\n        }\r\n\r\n        const allowHex8 = this.cpAlphaChannel === 'always';\r\n\r\n        this.hexText = this.service.rgbaToHex(rgba, allowHex8);\r\n        this.hexAlpha = this.rgbaText.a;\r\n      }\r\n\r\n      if (this.cpOutputFormat === 'auto') {\r\n        if (this.format !== ColorFormats.RGBA && this.format !== ColorFormats.CMYK) {\r\n          if (this.hsva.a < 1) {\r\n            this.format = this.hsva.a < 1 ? ColorFormats.RGBA : ColorFormats.HEX;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.hueSliderColor = 'rgb(' + hue.r + ',' + hue.g + ',' + hue.b + ')';\r\n      this.alphaSliderColor = 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\r\n\r\n      this.outputColor = this.service.outputFormat(this.hsva, this.cpOutputFormat, this.cpAlphaChannel);\r\n      this.selectedColor = this.service.outputFormat(this.hsva, 'rgba', null);\r\n\r\n      if (this.format !== ColorFormats.CMYK) {\r\n        this.cmykColor = '';\r\n      } else {\r\n        if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'enabled' ||\r\n          this.cpAlphaChannel === 'forced')\r\n        {\r\n          const alpha = Math.round(this.cmyk.a * 100) / 100;\r\n\r\n          this.cmykColor = `cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${alpha})`;\r\n        } else {\r\n          this.cmykColor = `cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;\r\n        }\r\n      }\r\n\r\n      this.slider = new SliderPosition(\r\n        (this.sliderH || this.hsva.h) * this.sliderDimMax.h - 8,\r\n        this.hsva.s * this.sliderDimMax.s - 8,\r\n        (1 - this.hsva.v) * this.sliderDimMax.v - 8,\r\n        this.hsva.a * this.sliderDimMax.a - 8\r\n      );\r\n\r\n      if (emit && lastOutput !== this.outputColor) {\r\n        if (this.cpCmykEnabled) {\r\n          this.directiveInstance.cmykChanged(this.cmykColor);\r\n        }\r\n\r\n        this.directiveInstance.colorChanged(this.outputColor);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Private helper functions for the color picker dialog positioning\r\n\r\n  private setDialogPosition(): void {\r\n    if (this.cpDialogDisplay === 'inline') {\r\n      this.position = 'relative';\r\n    } else {\r\n      let position = 'static', transform = '', style;\r\n\r\n      let parentNode: any = null, transformNode: any = null;\r\n\r\n      let node = this.directiveElementRef.nativeElement.parentNode;\r\n\r\n      const dialogHeight = this.dialogElement.nativeElement.offsetHeight;\r\n\r\n      while (node !== null && node.tagName !== 'HTML' && node.nodeType != 11) { //Stop when encountering a DocumentFragment, such as Shadow Roots, as they don't have a parent\r\n        style = window.getComputedStyle(node);\r\n        position = style.getPropertyValue('position');\r\n        transform = style.getPropertyValue('transform');\r\n\r\n        if (position !== 'static' && parentNode === null) {\r\n          parentNode = node;\r\n        }\r\n\r\n        if (transform && transform !== 'none' && transformNode === null) {\r\n          transformNode = node;\r\n        }\r\n\r\n        if (position === 'fixed') {\r\n          parentNode = transformNode;\r\n\r\n          break;\r\n        }\r\n\r\n        node = node.parentNode;\r\n      }\r\n\r\n      const boxDirective = this.createDialogBox(this.directiveElementRef.nativeElement, (position !== 'fixed'));\r\n\r\n      if (this.useRootViewContainer || (position === 'fixed' &&\r\n         (!parentNode || parentNode instanceof HTMLUnknownElement)))\r\n      {\r\n        this.top = boxDirective.top;\r\n        this.offsetTop = boxDirective.topOffset;\r\n        this.left = boxDirective.left;      \r\n        this.offsetLeft = boxDirective.leftOffset;\r\n      }\r\n      else {\r\n        if (parentNode === null) {\r\n          parentNode = node;\r\n        }\r\n\r\n        const boxParent = this.createDialogBox(parentNode, (position !== 'fixed'));\r\n\r\n        this.top = boxDirective.top - boxParent.top;\r\n        this.offsetTop = boxDirective.topOffset;\r\n        this.left = boxDirective.left - boxParent.left;\r\n        this.offsetLeft = boxDirective.leftOffset;\r\n      }\r\n\r\n      if (position === 'fixed') {\r\n        this.position = 'fixed';\r\n      }\r\n\r\n      let usePosition = this.cpPosition;\r\n      if (this.cpPosition === 'auto') {\r\n          const winWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n          const winHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n          const appWidth = Math.min(winWidth, node.offsetWidth ? node.offsetWidth : node.querySelector(\"body\").offsetWidth);\r\n\r\n          let usePositionX = 'right';\r\n          if ((this.left + boxDirective.width + this.dialogArrowSize - 2) + this.cpWidth + this.offsetLeft > appWidth) {\n              if ((this.left - this.cpWidth + this.dialogArrowSize - 2 + this.offsetLeft) < 0) {\n                  this.left -= ((this.left + boxDirective.width + this.dialogArrowSize - 2) + this.cpWidth) - appWidth;\n              }\n              else {\n                  usePositionX = 'left';\r\n              }\r\n          }\r\n\r\n          let usePositionY = 'bottom';\r\n          if ((this.top + boxDirective.height * this.cpPositionOffset / 100) + dialogHeight + this.offsetTop > winHeight) {\r\n              if ((this.top - dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100 + this.offsetTop) < 0) {\n                  this.top -= ((this.top + boxDirective.height * this.cpPositionOffset / 100) + dialogHeight) - winHeight;\n              }\n              else {\n                  usePositionY = 'top';\r\n              }\r\n          }\r\n\r\n          usePosition = usePositionX + '-' + usePositionY;\r\n      }\r\n\r\n      this.cpUsePosition = usePosition;\r\n\r\n      if (usePosition === 'right-top') {\r\n          this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;\r\n          this.left += boxDirective.width + this.dialogArrowSize - 2;\r\n      } else if (usePosition === 'left-top') {\r\n          this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;\r\n          this.left -= this.cpWidth + this.dialogArrowSize - 2;\r\n      } else if (usePosition === 'left-bottom') {\r\n          this.top += boxDirective.height * this.cpPositionOffset / 100;\r\n          this.left -= this.cpWidth + this.dialogArrowSize - 2;\r\n      } else if (usePosition === 'right-bottom') {\r\n          this.top += boxDirective.height * this.cpPositionOffset / 100;\r\n          this.left += boxDirective.width + this.dialogArrowSize - 2;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Private helper functions for the color picker dialog positioning and opening\r\n\r\n  private isDescendant(parent: any, child: any): boolean {\r\n    let node: any = child.parentNode;\r\n\r\n    while (node !== null) {\r\n      if (node === parent) {\r\n        return true;\r\n      }\r\n\r\n      node = node.parentNode;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private createDialogBox(element: any, offset: boolean): any {\r\n\r\n    let appRoot = document.querySelector(\"ngx-app\");\r\n\r\n    return {\r\n      top: element.getBoundingClientRect().top - (appRoot ? appRoot.getBoundingClientRect().top : 0 + (offset ? window.pageYOffset : 0)),\r\n      topOffset: appRoot ? appRoot.getBoundingClientRect().top : 0,\r\n      left: element.getBoundingClientRect().left - (appRoot ? appRoot.getBoundingClientRect().left : 0 + (offset ? window.pageXOffset : 0)),\r\n      leftOffset: appRoot ? appRoot.getBoundingClientRect().left : 0,\r\n      width: element.offsetWidth,\r\n      height: element.offsetHeight         \r\n    };\r\n  }\r\n}\r\n","import { Directive, OnChanges, OnDestroy, Input, Output, EventEmitter,\n  HostListener, ApplicationRef, ComponentRef, ElementRef, ViewContainerRef,\n  Injector, ReflectiveInjector, ComponentFactoryResolver } from '@angular/core';\n\nimport { ColorPickerService } from './color-picker.service';\nimport { ColorPickerComponent } from './color-picker.component';\n\nimport { AlphaChannel, ColorMode, OutputFormat } from './helpers';\n\n@Directive({\n  selector: '[colorPicker]',\n  exportAs: 'ngxColorPicker'\n})\nexport class ColorPickerDirective implements OnChanges, OnDestroy {\n  private dialog: any;\n\n  private dialogCreated: boolean = false;\n  private ignoreChanges: boolean = false;\n\n  private cmpRef: ComponentRef<ColorPickerComponent>;\n\n  @Input() colorPicker: string;\n\n  @Input() cpWidth: string = '230px';\n  @Input() cpHeight: string = 'auto';\n\n  @Input() cpToggle: boolean = false;\n  @Input() cpDisabled: boolean = false;\n\n  @Input() cpIgnoredElements: any = [];\n\n  @Input() cpFallbackColor: string = '';\n\n  @Input() cpColorMode: ColorMode = 'color';\n\n  @Input() cpCmykEnabled: boolean = false;\n\n  @Input() cpOutputFormat: OutputFormat = 'auto';\n  @Input() cpAlphaChannel: AlphaChannel = 'enabled';\n\n  @Input() cpDisableInput: boolean = false;\n\n  @Input() cpDialogDisplay: string = 'popup';\n\n  @Input() cpSaveClickOutside: boolean = true;\n  @Input() cpCloseClickOutside: boolean = true;\n\n  @Input() cpUseRootViewContainer: boolean = false;\n\n  @Input() cpPosition: string = 'auto';\n  @Input() cpPositionOffset: string = '0%';\n  @Input() cpPositionRelativeToArrow: boolean = false;\n\n  @Input() cpOKButton: boolean = false;\n  @Input() cpOKButtonText: string = 'OK';\n  @Input() cpOKButtonClass: string = 'cp-ok-button-class';\n\n  @Input() cpCancelButton: boolean = false;\n  @Input() cpCancelButtonText: string = 'Cancel';\n  @Input() cpCancelButtonClass: string = 'cp-cancel-button-class';\n\n  @Input() cpPresetLabel: string = 'Preset colors';\n  @Input() cpPresetColors: string[];\n  @Input() cpMaxPresetColorsLength: number = 6;\n\n  @Input() cpPresetEmptyMessage: string = 'No colors added';\n  @Input() cpPresetEmptyMessageClass: string = 'preset-empty-message';\n\n  @Input() cpAddColorButton: boolean = false;\n  @Input() cpAddColorButtonText: string = 'Add color';\n  @Input() cpAddColorButtonClass: string = 'cp-add-color-button-class';\n\n  @Input() cpRemoveColorButtonClass: string = 'cp-remove-color-button-class';\n\n  @Output() cpInputChange = new EventEmitter<any>(true);\n\n  @Output() cpToggleChange = new EventEmitter<boolean>(true);\n\n  @Output() cpSliderChange = new EventEmitter<any>(true);\n  @Output() cpSliderDragEnd = new EventEmitter<string>(true);\n  @Output() cpSliderDragStart = new EventEmitter<string>(true);\n\n  @Output() colorPickerOpen = new EventEmitter<string>(true);\n  @Output() colorPickerClose = new EventEmitter<string>(true);\n\n  @Output() colorPickerCancel = new EventEmitter<string>(true);\n  @Output() colorPickerSelect = new EventEmitter<string>(true);\n  @Output() colorPickerChange = new EventEmitter<string>(false);\n\n  @Output() cpCmykColorChange = new EventEmitter<string>(true);\n\n  @Output() cpPresetColorsChange = new EventEmitter<any>(true);\n\n  @HostListener('click') handleClick(): void {\n    this.inputFocus();\n  }\n\n  @HostListener('focus') handleFocus(): void {\n    this.inputFocus();\n  }\n\n  @HostListener('input', ['$event']) handleInput(event: any): void {\n    this.inputChange(event);\n  }\n\n  constructor(private injector: Injector, private cfr: ComponentFactoryResolver,\n    private appRef: ApplicationRef, private vcRef: ViewContainerRef, private elRef: ElementRef,\n    private _service: ColorPickerService) {}\n\n  ngOnDestroy(): void {\n    if (this.cmpRef !== undefined) {\n      this.cmpRef.destroy();\n    }\n  }\n\n  ngOnChanges(changes: any): void {\n    if (changes.cpToggle && !this.cpDisabled) {\n      if (changes.cpToggle.currentValue) {\n        this.openDialog();\n      } else if (!changes.cpToggle.currentValue) {\n        this.closeDialog();\n      }\n    }\n\n    if (changes.colorPicker) {\n      if (this.dialog && !this.ignoreChanges) {\n        if (this.cpDialogDisplay === 'inline') {\n          this.dialog.setInitialColor(changes.colorPicker.currentValue);\n        }\n\n        this.dialog.setColorFromString(changes.colorPicker.currentValue, false);\n\n        if (this.cpUseRootViewContainer && this.cpDialogDisplay !== 'inline') {\n          this.cmpRef.changeDetectorRef.detectChanges();\n        }\n      }\n\n      this.ignoreChanges = false;\n    }\n\n    if (changes.cpPresetLabel || changes.cpPresetColors) {\n      if (this.dialog) {\n        this.dialog.setPresetConfig(this.cpPresetLabel, this.cpPresetColors);\n      }\n    }\n  }\n\n  public openDialog(): void {\n    if (!this.dialogCreated) {\n      let vcRef = this.vcRef;\n\n      this.dialogCreated = true;\n\n      if (this.cpUseRootViewContainer && this.cpDialogDisplay !== 'inline') {\n        const classOfRootComponent = this.appRef.componentTypes[0];\n        const appInstance = this.injector.get(classOfRootComponent);\n\n        vcRef = appInstance.vcRef || appInstance.viewContainerRef || this.vcRef;\n\n        if (vcRef === this.vcRef) {\n          console.warn('You are using cpUseRootViewContainer, ' +\n            'but the root component is not exposing viewContainerRef!' +\n            'Please expose it by adding \\'public vcRef: ViewContainerRef\\' to the constructor.');\n        }\n      }\n\n      const compFactory = this.cfr.resolveComponentFactory(ColorPickerComponent);\n      const injector = ReflectiveInjector.fromResolvedProviders([], vcRef.parentInjector);\n\n      this.cmpRef = vcRef.createComponent(compFactory, 0, injector, []);\n\n      this.cmpRef.instance.setupDialog(this, this.elRef, this.colorPicker,\n        this.cpWidth, this.cpHeight, this.cpDialogDisplay, this.cpFallbackColor, this.cpColorMode,\n        this.cpCmykEnabled, this.cpAlphaChannel, this.cpOutputFormat, this.cpDisableInput,\n        this.cpIgnoredElements, this.cpSaveClickOutside, this.cpCloseClickOutside,\n        this.cpUseRootViewContainer, this.cpPosition, this.cpPositionOffset,\n        this.cpPositionRelativeToArrow, this.cpPresetLabel, this.cpPresetColors,\n        this.cpMaxPresetColorsLength, this.cpPresetEmptyMessage, this.cpPresetEmptyMessageClass,\n        this.cpOKButton, this.cpOKButtonClass, this.cpOKButtonText,\n        this.cpCancelButton, this.cpCancelButtonClass, this.cpCancelButtonText,\n        this.cpAddColorButton, this.cpAddColorButtonClass, this.cpAddColorButtonText,\n        this.cpRemoveColorButtonClass);\n\n      this.dialog = this.cmpRef.instance;\n\n      if (this.vcRef !== vcRef) {\n        this.cmpRef.changeDetectorRef.detectChanges();\n      }\n    } else if (this.dialog) {\n      this.dialog.openDialog(this.colorPicker);\n    }\n  }\n\n  public closeDialog(): void {\n    if (this.dialog && this.cpDialogDisplay === 'popup') {\n      this.dialog.closeDialog();\n    }\n  }\n\n  public cmykChanged(value: string): void {\n    this.cpCmykColorChange.emit(value);\n  }\n\n  public stateChanged(state: boolean): void {\n    this.cpToggleChange.emit(state);\n\n    if (state) {\n      this.colorPickerOpen.emit(this.colorPicker);\n    } else {\n      this.colorPickerClose.emit(this.colorPicker);\n    }\n  }\n\n  public colorChanged(value: string, ignore: boolean = true): void {\n    this.ignoreChanges = ignore;\n\n    this.colorPickerChange.emit(value);\n  }\n\n  public colorSelected(value: string): void {\n    this.colorPickerSelect.emit(value);\n  }\n\n  public colorCanceled(): void {\n    this.colorPickerCancel.emit();\n  }\n\n  public inputFocus(): void {\n    const element = this.elRef.nativeElement;\n\n    const ignored = this.cpIgnoredElements.filter((item: any) => item === element);\n\n    if (!this.cpDisabled && !ignored.length) {\n      if (typeof document !== 'undefined' && element === document.activeElement) {\n        this.openDialog();\n      } else if (!this.dialog || !this.dialog.show) {\n        this.openDialog();\n      } else {\n        this.closeDialog();\n      }\n    }\n  }\n\n  public inputChange(event: any): void {\n    if (this.dialog) {\n      this.dialog.setColorFromString(event.target.value, true);\n    } else {\n      this.colorPicker = event.target.value;\n\n      this.colorPickerChange.emit(this.colorPicker);\n    }\n  }\n\n  public inputChanged(event: any): void {\n    this.cpInputChange.emit(event);\n  }\n\n  public sliderChanged(event: any): void {\n    this.cpSliderChange.emit(event);\n  }\n\n  public sliderDragEnd(event: any): void {\n    this.cpSliderDragEnd.emit(event);\n  }\n\n  public sliderDragStart(event: any): void {\n    this.cpSliderDragStart.emit(event);\n  }\n\n  public presetColorsChanged(value: any[]): void {\n    this.cpPresetColorsChange.emit(value);\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TextDirective, SliderDirective } from './helpers';\r\n\r\nimport { ColorPickerService } from './color-picker.service';\r\nimport { ColorPickerComponent } from './color-picker.component';\r\nimport { ColorPickerDirective } from './color-picker.directive';\r\n\r\n@NgModule({\r\n  imports: [ CommonModule ],\r\n  exports: [ ColorPickerDirective ],\r\n  providers: [ ColorPickerService ],\r\n  declarations: [ ColorPickerComponent, ColorPickerDirective, TextDirective, SliderDirective ],\r\n  entryComponents: [ ColorPickerComponent ]\r\n})\r\nexport class ColorPickerModule {}\r\n"],"names":["EventEmitter","Directive","Input","Output","HostListener","ElementRef","Injectable","Component","ViewEncapsulation","ChangeDetectorRef","ViewChild","ReflectiveInjector","Injector","ComponentFactoryResolver","ApplicationRef","ViewContainerRef","NgModule","CommonModule"],"mappings":"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"}