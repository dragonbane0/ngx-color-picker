{"version":3,"file":"color-picker.component.js","sourceRoot":"","sources":["../../src/lib/color-picker.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, OnDestroy, AfterViewInit,\r\n  ViewChild, HostListener, ViewEncapsulation,\r\n  ElementRef, ChangeDetectorRef } from '@angular/core';\r\n\r\nimport { detectIE } from './helpers';\r\n\r\nimport { ColorFormats, Cmyk, Hsla, Hsva, Rgba } from './formats';\r\nimport { AlphaChannel, OutputFormat, SliderDimension, SliderPosition } from './helpers';\r\n\r\nimport { ColorPickerService } from './color-picker.service';\r\n\r\n@Component({\r\n  selector: 'color-picker',\r\n  templateUrl: '../../dist/lib/color-picker.component.html',\r\n  styleUrls: [ '../../dist/lib/color-picker.component.css' ],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ColorPickerComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  private isIE10: boolean = false;\r\n\r\n  private cmyk: Cmyk;\r\n  private hsva: Hsva;\r\n\r\n  private width: number;\r\n  private height: number;\r\n\r\n  private cmykColor: string;\r\n  private outputColor: string;\r\n  private initialColor: string;\r\n  private fallbackColor: string;\r\n\r\n  private listenerResize: any;\r\n  private listenerMouseDown: any;\r\n\r\n  private directiveInstance: any;\r\n\r\n  private sliderH: number;\r\n  private sliderDimMax: SliderDimension;\r\n  private directiveElementRef: ElementRef;\r\n\r\n  private dialogArrowSize: number = 10;\r\n  private dialogArrowOffset: number = 15;\r\n\r\n  private dialogInputFields: ColorFormats[] = [\r\n    ColorFormats.HEX,\r\n    ColorFormats.RGBA,\r\n    ColorFormats.HSLA,\r\n    ColorFormats.CMYK\r\n  ];\r\n\r\n  private useRootViewContainer: boolean = false;\r\n\r\n  public show: boolean;\r\n  public hidden: boolean;\r\n\r\n  public top: number;\r\n  public left: number;\r\n  public position: string;\r\n\r\n  public format: ColorFormats;\r\n  public slider: SliderPosition;\r\n\r\n  public hexText: string;\r\n  public hexAlpha: number;\r\n\r\n  public cmykText: Cmyk;\r\n  public hslaText: Hsla;\r\n  public rgbaText: Rgba;\r\n\r\n  public arrowTop: number;\r\n\r\n  public selectedColor: string;\r\n  public hueSliderColor: string;\r\n  public alphaSliderColor: string;\r\n\r\n  public cpWidth: number;\r\n  public cpHeight: number;\r\n\r\n  public cpColorMode: number;\r\n\r\n  public cpCmykEnabled: boolean;\r\n\r\n  public cpAlphaChannel: AlphaChannel;\r\n  public cpOutputFormat: OutputFormat;\r\n\r\n  public cpDisableInput: boolean;\r\n  public cpDialogDisplay: string;\r\n\r\n  public cpIgnoredElements: any;\r\n\r\n  public cpSaveClickOutside: boolean;\r\n  public cpCloseClickOutside: boolean;\r\n\r\n  public cpPosition: string;\r\n  public cpUsePosition: string;\r\n  public cpPositionOffset: number;\r\n\r\n  public cpOKButton: boolean;\r\n  public cpOKButtonText: string;\r\n  public cpOKButtonClass: string;\r\n\r\n  public cpCancelButton: boolean;\r\n  public cpCancelButtonText: string;\r\n  public cpCancelButtonClass: string;\r\n\r\n  public cpPresetLabel: string;\r\n  public cpPresetColors: string[];\r\n  public cpMaxPresetColorsLength: number;\r\n\r\n  public cpPresetEmptyMessage: string;\r\n  public cpPresetEmptyMessageClass: string;\r\n\r\n  public cpAddColorButton: boolean;\r\n  public cpAddColorButtonText: string;\r\n  public cpAddColorButtonClass: string;\r\n  public cpRemoveColorButtonClass: string;\r\n\r\n  @ViewChild('dialogPopup', { static: true }) dialogElement: ElementRef;\r\n\r\n  @ViewChild('hueSlider', { static: true }) hueSlider: ElementRef;\r\n  @ViewChild('alphaSlider', { static: true }) alphaSlider: ElementRef;\r\n\r\n  @HostListener('document:keyup.esc', ['$event']) handleEsc(event: any): void {\r\n    if (this.show && this.cpDialogDisplay === 'popup') {\r\n      this.onCancelColor(event);\r\n    }\r\n  }\r\n\r\n  @HostListener('document:keyup.enter', ['$event']) handleEnter(event: any): void {\r\n    if (this.show && this.cpDialogDisplay === 'popup') {\r\n      this.onAcceptColor(event);\r\n    }\r\n  }\r\n\r\n  constructor(private elRef: ElementRef, private cdRef: ChangeDetectorRef, private service: ColorPickerService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.slider = new SliderPosition(0, 0, 0, 0);\r\n\r\n    const hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;\r\n    const alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;\r\n\r\n    this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);\r\n\r\n    if (this.cpCmykEnabled) {\r\n      this.format = ColorFormats.CMYK;\r\n    } else if (this.cpOutputFormat === 'rgba') {\r\n      this.format = ColorFormats.RGBA;\r\n    } else if (this.cpOutputFormat === 'hsla') {\r\n      this.format = ColorFormats.HSLA;\r\n    } else {\r\n      this.format = ColorFormats.HEX;\r\n    }\r\n\r\n    this.listenerMouseDown = (event: any) => { this.onMouseDown(event); };\r\n    this.listenerResize = () => { this.onResize(); };\r\n\r\n    this.openDialog(this.initialColor, false);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.closeDialog();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.cpWidth !== 230 ||Â this.cpDialogDisplay === 'inline') {\r\n      const hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;\r\n      const alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;\r\n\r\n      this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);\r\n\r\n      this.updateColorPicker(false);\r\n\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public openDialog(color: any, emit: boolean = true): void {\r\n    this.service.setActive(this);\r\n\r\n    if (!this.width) {\r\n      this.cpWidth = this.directiveElementRef.nativeElement.offsetWidth;\r\n    }\r\n\r\n    if (!this.height) {\r\n      this.height = 320;\r\n    }\r\n\r\n    this.setInitialColor(color);\r\n\r\n    this.setColorFromString(color, emit);\r\n\r\n    this.openColorPicker();\r\n  }\r\n\r\n  public closeDialog(): void {\r\n    this.closeColorPicker();\r\n  }\r\n\r\n  public setupDialog(instance: any, elementRef: ElementRef, color: any,\r\n    cpWidth: string, cpHeight: string, cpDialogDisplay: string, cpFallbackColor: string,\r\n    cpColorMode: string, cpCmykEnabled: boolean, cpAlphaChannel: AlphaChannel,\r\n    cpOutputFormat: OutputFormat, cpDisableInput: boolean, cpIgnoredElements: any,\r\n    cpSaveClickOutside: boolean, cpCloseClickOutside: boolean, cpUseRootViewContainer: boolean,\r\n    cpPosition: string, cpPositionOffset: string, cpPositionRelativeToArrow: boolean,\r\n    cpPresetLabel: string, cpPresetColors: string[], cpMaxPresetColorsLength: number,\r\n    cpPresetEmptyMessage: string, cpPresetEmptyMessageClass: string, cpOKButton: boolean,\r\n    cpOKButtonClass: string, cpOKButtonText: string, cpCancelButton: boolean,\r\n    cpCancelButtonClass: string, cpCancelButtonText: string, cpAddColorButton: boolean,\r\n    cpAddColorButtonClass: string, cpAddColorButtonText: string, cpRemoveColorButtonClass: string): void\r\n  {\r\n    this.setInitialColor(color);\r\n\r\n    this.setColorMode(cpColorMode);\r\n\r\n    this.isIE10 = (detectIE() === 10);\r\n\r\n    this.directiveInstance = instance;\r\n    this.directiveElementRef = elementRef;\r\n\r\n    this.cpDisableInput = cpDisableInput;\r\n\r\n    this.cpCmykEnabled = cpCmykEnabled;\r\n    this.cpAlphaChannel = cpAlphaChannel;\r\n    this.cpOutputFormat = cpOutputFormat;\r\n\r\n    this.cpDialogDisplay = cpDialogDisplay;\r\n\r\n    this.cpIgnoredElements = cpIgnoredElements;\r\n\r\n    this.cpSaveClickOutside = cpSaveClickOutside;\r\n    this.cpCloseClickOutside = cpCloseClickOutside;\r\n\r\n    this.useRootViewContainer = cpUseRootViewContainer;\r\n\r\n    this.width = this.cpWidth = parseInt(cpWidth, 10);\r\n    this.height = this.cpHeight = parseInt(cpHeight, 10);\r\n\r\n    this.cpPosition = cpPosition;\r\n    this.cpPositionOffset = parseInt(cpPositionOffset, 10);\r\n\r\n    this.cpOKButton = cpOKButton;\r\n    this.cpOKButtonText = cpOKButtonText;\r\n    this.cpOKButtonClass = cpOKButtonClass;\r\n\r\n    this.cpCancelButton = cpCancelButton;\r\n    this.cpCancelButtonText = cpCancelButtonText;\r\n    this.cpCancelButtonClass = cpCancelButtonClass;\r\n\r\n    this.fallbackColor = cpFallbackColor || '#fff';\r\n\r\n    this.setPresetConfig(cpPresetLabel, cpPresetColors);\r\n\r\n    this.cpMaxPresetColorsLength = cpMaxPresetColorsLength;\r\n    this.cpPresetEmptyMessage = cpPresetEmptyMessage;\r\n    this.cpPresetEmptyMessageClass = cpPresetEmptyMessageClass;\r\n\r\n    this.cpAddColorButton = cpAddColorButton;\r\n    this.cpAddColorButtonText = cpAddColorButtonText;\r\n    this.cpAddColorButtonClass = cpAddColorButtonClass;\r\n    this.cpRemoveColorButtonClass = cpRemoveColorButtonClass;\r\n\r\n    if (!cpPositionRelativeToArrow) {\r\n      this.dialogArrowOffset = 0;\r\n    }\r\n\r\n    if (cpDialogDisplay === 'inline') {\r\n      this.dialogArrowSize = 0;\r\n      this.dialogArrowOffset = 0;\r\n    }\r\n\r\n    if (cpOutputFormat === 'hex' &&\r\n        cpAlphaChannel !== 'always' && cpAlphaChannel !== 'forced')\r\n    {\r\n      this.cpAlphaChannel = 'disabled';\r\n    }\r\n  }\r\n\r\n  public setColorMode(mode: string): void {\r\n    switch (mode.toString().toUpperCase()) {\r\n      case '1':\r\n      case 'C':\r\n      case 'COLOR':\r\n        this.cpColorMode = 1;\r\n        break;\r\n      case '2':\r\n      case 'G':\r\n      case 'GRAYSCALE':\r\n        this.cpColorMode = 2;\r\n        break;\r\n      case '3':\r\n      case 'P':\r\n      case 'PRESETS':\r\n        this.cpColorMode = 3;\r\n        break;\r\n      default:\r\n        this.cpColorMode = 1;\r\n    }\r\n  }\r\n\r\n  public setInitialColor(color: any): void {\r\n    this.initialColor = color;\r\n  }\r\n\r\n  public setPresetConfig(cpPresetLabel: string, cpPresetColors: string[]): void {\r\n    this.cpPresetLabel = cpPresetLabel;\r\n    this.cpPresetColors = cpPresetColors;\r\n  }\r\n\r\n  public setColorFromString(value: string, emit: boolean = true, update: boolean = true): void {\r\n    let hsva: Hsva | null;\r\n\r\n    if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'forced') {\r\n      hsva = this.service.stringToHsva(value, true);\r\n\r\n      if (!hsva && !this.hsva) {\r\n        hsva = this.service.stringToHsva(value, false);\r\n      }\r\n    } else {\r\n      hsva = this.service.stringToHsva(value, false);\r\n    }\r\n\r\n    if (!hsva && !this.hsva) {\r\n      hsva = this.service.stringToHsva(this.fallbackColor, false);\r\n    }\r\n\r\n    if (hsva) {\r\n      this.hsva = hsva;\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker(emit, update);\r\n    }\r\n  }\r\n\r\n  public onResize(): void {\r\n    if (this.position === 'fixed') {\r\n      this.setDialogPosition();\r\n    } else if (this.cpDialogDisplay !== 'inline') {\r\n      this.closeColorPicker();\r\n    }\r\n  }\r\n\r\n  public onDragEnd(slider: string): void {\r\n    this.directiveInstance.sliderDragEnd({ slider: slider, color: this.outputColor });\r\n  }\r\n\r\n  public onDragStart(slider: string): void {\r\n    this.directiveInstance.sliderDragStart({ slider: slider, color: this.outputColor });\r\n  }\r\n\r\n  public onMouseDown(event: MouseEvent): void {\r\n    if (this.show &&\r\n        !this.isIE10 && this.cpDialogDisplay === 'popup' &&\r\n        event.target !== this.directiveElementRef.nativeElement &&\r\n        !this.isDescendant(this.elRef.nativeElement, event.target) &&\r\n        !this.isDescendant(this.directiveElementRef.nativeElement, event.target) &&\r\n        this.cpIgnoredElements.filter((item: any) => item === event.target).length === 0)\r\n    {\r\n      if (this.cpSaveClickOutside) {\r\n        this.directiveInstance.colorSelected(this.outputColor);\r\n      } else {\r\n        this.setColorFromString(this.initialColor, false);\r\n\r\n        if (this.cpCmykEnabled) {\r\n          this.directiveInstance.cmykChanged(this.cmykColor);\r\n        }\r\n\r\n        this.directiveInstance.colorChanged(this.outputColor);\r\n      }\r\n\r\n      if (this.cpCloseClickOutside) {\r\n        this.closeColorPicker();\r\n      }\r\n    }\r\n  }\r\n\r\n  public onAcceptColor(event: Event): void {\r\n    event.stopPropagation();\r\n\r\n    if (this.outputColor) {\r\n      this.directiveInstance.colorSelected(this.outputColor);\r\n    }\r\n\r\n    if (this.cpDialogDisplay === 'popup') {\r\n      this.closeColorPicker();\r\n    }\r\n  }\r\n\r\n  public onCancelColor(event: Event): void {\r\n    event.stopPropagation();\r\n\r\n    this.setColorFromString(this.initialColor, true);\r\n\r\n    if (this.cpDialogDisplay === 'popup') {\r\n      if (this.cpCmykEnabled) {\r\n        this.directiveInstance.cmykChanged(this.cmykColor);\r\n      }\r\n\r\n      this.directiveInstance.colorChanged(this.outputColor, true);\r\n\r\n      this.closeColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.colorCanceled();\r\n  }\r\n\r\n  public onFormatToggle(change: number): void {\r\n    const availableFormats = this.dialogInputFields.length -\r\n      (this.cpCmykEnabled ? 0 : 1);\r\n\r\n    const nextFormat = (((this.dialogInputFields.indexOf(this.format) + change) %\r\n      availableFormats) + availableFormats) % availableFormats;\r\n\r\n    this.format = this.dialogInputFields[nextFormat];\r\n  }\r\n\r\n  public onColorChange(value: { s: number, v: number, rgX: number, rgY: number }): void {\r\n    this.hsva.s = value.s / value.rgX;\r\n    this.hsva.v = value.v / value.rgY;\r\n\r\n    this.updateColorPicker();\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'lightness',\r\n      value: this.hsva.v,\r\n      color: this.outputColor\r\n    });\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'saturation',\r\n      value: this.hsva.s,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onHueChange(value: { v: number, rgX: number }): void {\r\n    this.hsva.h = value.v / value.rgX;\r\n    this.sliderH = this.hsva.h;\r\n\r\n    this.updateColorPicker();\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'hue',\r\n      value: this.hsva.h,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onValueChange(value: { v: number, rgX: number }): void {\r\n    this.hsva.v = value.v / value.rgX;\r\n\r\n    this.updateColorPicker();\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'value',\r\n      value: this.hsva.v,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onAlphaChange(value: { v: number, rgX: number }): void {\r\n    this.hsva.a = value.v / value.rgX;\r\n\r\n    this.updateColorPicker();\r\n\r\n    this.directiveInstance.sliderChanged({\r\n      slider: 'alpha',\r\n      value: this.hsva.a,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onHexInput(value: string | null): void {\r\n    if (value === null) {\r\n      this.updateColorPicker();\r\n    } else {\r\n      if (value && value[0] !== '#') {\r\n        value = '#' + value;\r\n      }\r\n\r\n      let validHex = /^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;\r\n\r\n      if (this.cpAlphaChannel === 'always') {\r\n        validHex = /^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi;\r\n      }\r\n\r\n      const valid = validHex.test(value);\r\n\r\n      if (valid) {\r\n        if (value.length < 5) {\r\n          value = '#' + value.substring(1)\r\n            .split('')\r\n            .map(c => c + c)\r\n            .join('');\r\n        }\r\n\r\n        if (this.cpAlphaChannel === 'forced') {\r\n          value += Math.round(this.hsva.a * 255).toString(16);\r\n        }\r\n\r\n        this.setColorFromString(value, true, false);\r\n      }\r\n\r\n      this.directiveInstance.inputChanged({\r\n        input: 'hex',\r\n        valid: valid,\r\n        value: value,\r\n        color: this.outputColor\r\n      });\r\n    }\r\n  }\r\n\r\n  public onRedInput(value: { v: number, rg: number }): void {\r\n    const rgba = this.service.hsvaToRgba(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      rgba.r = value.v / value.rg;\r\n\r\n      this.hsva = this.service.rgbaToHsva(rgba);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'red',\r\n      valid: valid,\r\n      value: rgba.r,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onBlueInput(value: { v: number, rg: number }): void {\r\n    const rgba = this.service.hsvaToRgba(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      rgba.b = value.v / value.rg;\r\n\r\n      this.hsva = this.service.rgbaToHsva(rgba);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'blue',\r\n      valid: valid,\r\n      value: rgba.b,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onGreenInput(value: { v: number, rg: number }): void {\r\n    const rgba = this.service.hsvaToRgba(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      rgba.g = value.v / value.rg;\r\n\r\n      this.hsva = this.service.rgbaToHsva(rgba);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'green',\r\n      valid: valid,\r\n      value: rgba.g,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onHueInput(value: { v: number, rg: number }) {\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      this.hsva.h = value.v / value.rg;\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'hue',\r\n      valid: valid,\r\n      value: this.hsva.h,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onValueInput(value: { v: number, rg: number }): void {\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      this.hsva.v = value.v / value.rg;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'value',\r\n      valid: valid,\r\n      value: this.hsva.v,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onAlphaInput(value: { v: number, rg: number }): void {\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      this.hsva.a = value.v / value.rg;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'alpha',\r\n      valid: valid,\r\n      value: this.hsva.a,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onLightnessInput(value: { v: number, rg: number }): void {\r\n    const hsla = this.service.hsva2hsla(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      hsla.l = value.v / value.rg;\r\n\r\n      this.hsva = this.service.hsla2hsva(hsla);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'lightness',\r\n      valid: valid,\r\n      value: hsla.l,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onSaturationInput(value: { v: number, rg: number }): void {\r\n    const hsla = this.service.hsva2hsla(this.hsva);\r\n\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n    if (valid) {\r\n      hsla.s = value.v / value.rg;\r\n\r\n      this.hsva = this.service.hsla2hsva(hsla);\r\n\r\n      this.sliderH = this.hsva.h;\r\n\r\n      this.updateColorPicker();\r\n    }\r\n\r\n    this.directiveInstance.inputChanged({\r\n      input: 'saturation',\r\n      valid: valid,\r\n      value: hsla.s,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onCyanInput(value: { v: number, rg: number }): void {\r\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n     if (valid) {\r\n      this.cmyk.c = value.v;\r\n\r\n      this.updateColorPicker(false, true, true);\r\n    }\r\n\r\n     this.directiveInstance.inputChanged({\r\n      input: 'cyan',\r\n      valid: true,\r\n      value: this.cmyk.c,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n   public onMagentaInput(value: { v: number, rg: number }): void {\r\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n     if (valid) {\r\n      this.cmyk.m = value.v;\r\n\r\n      this.updateColorPicker(false, true, true);\r\n    }\r\n\r\n     this.directiveInstance.inputChanged({\r\n      input: 'magenta',\r\n      valid: true,\r\n      value: this.cmyk.m,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onYellowInput(value: { v: number, rg: number }): void {\r\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n     if (valid) {\r\n      this.cmyk.y = value.v;\r\n\r\n      this.updateColorPicker(false, true, true);\r\n    }\r\n\r\n     this.directiveInstance.inputChanged({\r\n      input: 'yellow',\r\n      valid: true,\r\n      value: this.cmyk.y,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n   public onBlackInput(value: { v: number, rg: number }): void {\r\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\r\n\r\n     if (valid) {\r\n      this.cmyk.k = value.v;\r\n\r\n      this.updateColorPicker(false, true, true);\r\n    }\r\n\r\n     this.directiveInstance.inputChanged({\r\n      input: 'black',\r\n      valid: true,\r\n      value: this.cmyk.k,\r\n      color: this.outputColor\r\n    });\r\n  }\r\n\r\n  public onAddPresetColor(event: any, value: string): void {\r\n    event.stopPropagation();\r\n\r\n    if (!this.cpPresetColors.filter((color) => (color === value)).length) {\r\n      this.cpPresetColors = this.cpPresetColors.concat(value);\r\n\r\n      this.directiveInstance.presetColorsChanged(this.cpPresetColors);\r\n    }\r\n  }\r\n\r\n  public onRemovePresetColor(event: any, value: string): void {\r\n    event.stopPropagation();\r\n\r\n    this.cpPresetColors = this.cpPresetColors.filter((color) => (color !== value));\r\n\r\n    this.directiveInstance.presetColorsChanged(this.cpPresetColors);\r\n  }\r\n\r\n  // Private helper functions for the color picker dialog status\r\n\r\n  private openColorPicker(): void {\r\n    if (!this.show) {\r\n      this.show = true;\r\n      this.hidden = true;\r\n\r\n      setTimeout(() => {\r\n        this.hidden = false;\r\n\r\n        this.setDialogPosition();\r\n\r\n        this.cdRef.detectChanges();\r\n      }, 0);\r\n\r\n      this.directiveInstance.stateChanged(true);\r\n\r\n      if (!this.isIE10) {\r\n        document.addEventListener('mousedown', this.listenerMouseDown);\r\n        document.addEventListener('touchstart', this.listenerMouseDown);\r\n      }\r\n\r\n      window.addEventListener('resize', this.listenerResize);\r\n    }\r\n  }\r\n\r\n  private closeColorPicker(): void {\r\n    if (this.show) {\r\n      this.show = false;\r\n\r\n      this.directiveInstance.stateChanged(false);\r\n\r\n      if (!this.isIE10) {\r\n        document.removeEventListener('mousedown', this.listenerMouseDown);\r\n        document.removeEventListener('touchstart', this.listenerMouseDown);\r\n      }\r\n\r\n      window.removeEventListener('resize', this.listenerResize);\r\n\r\n      if (!this.cdRef['destroyed']) {\r\n        this.cdRef.detectChanges();\r\n      }\r\n    }\r\n  }\r\n\r\n  private updateColorPicker(emit: boolean = true, update: boolean = true, cmykInput: boolean = false): void {\r\n    if (this.sliderDimMax) {\r\n      if (this.cpColorMode === 2) {\r\n        this.hsva.s = 0;\r\n      }\r\n\r\n      let hue: Rgba, hsla: Hsla, rgba: Rgba;\r\n\r\n      const lastOutput = this.outputColor;\r\n\r\n      hsla = this.service.hsva2hsla(this.hsva);\r\n\r\n      if (!this.cpCmykEnabled) {\r\n        rgba = this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva));\r\n      } else {\r\n        if (!cmykInput) {\r\n          rgba = this.service.hsvaToRgba(this.hsva);\r\n\r\n          this.cmyk = this.service.denormalizeCMYK(this.service.rgbaToCmyk(rgba));\r\n        } else {\r\n          rgba = this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk));\r\n\r\n          this.hsva = this.service.rgbaToHsva(rgba);\r\n        }\r\n\r\n        rgba = this.service.denormalizeRGBA(rgba);\r\n\r\n        this.sliderH = this.hsva.h;\r\n      }\r\n\r\n      hue = this.service.denormalizeRGBA(this.service.hsvaToRgba(new Hsva(this.sliderH || this.hsva.h, 1, 1, 1)));\r\n\r\n      if (update) {\r\n        this.hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100),\r\n          Math.round(hsla.a * 100) / 100);\r\n\r\n        this.rgbaText = new Rgba(rgba.r, rgba.g, rgba.b, Math.round(rgba.a * 100) / 100);\r\n\r\n        if (this.cpCmykEnabled) {\r\n          this.cmykText = new Cmyk(this.cmyk.c, this.cmyk.m, this.cmyk.y, this.cmyk.k,\r\n            Math.round(this.cmyk.a * 100) / 100);\r\n        }\r\n\r\n        const allowHex8 = this.cpAlphaChannel === 'always';\r\n\r\n        this.hexText = this.service.rgbaToHex(rgba, allowHex8);\r\n        this.hexAlpha = this.rgbaText.a;\r\n      }\r\n\r\n      if (this.cpOutputFormat === 'auto') {\r\n        if (this.format !== ColorFormats.RGBA && this.format !== ColorFormats.CMYK) {\r\n          if (this.hsva.a < 1) {\r\n            this.format = this.hsva.a < 1 ? ColorFormats.RGBA : ColorFormats.HEX;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.hueSliderColor = 'rgb(' + hue.r + ',' + hue.g + ',' + hue.b + ')';\r\n      this.alphaSliderColor = 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\r\n\r\n      this.outputColor = this.service.outputFormat(this.hsva, this.cpOutputFormat, this.cpAlphaChannel);\r\n      this.selectedColor = this.service.outputFormat(this.hsva, 'rgba', null);\r\n\r\n      if (this.format !== ColorFormats.CMYK) {\r\n        this.cmykColor = '';\r\n      } else {\r\n        if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'enabled' ||\r\n          this.cpAlphaChannel === 'forced')\r\n        {\r\n          const alpha = Math.round(this.cmyk.a * 100) / 100;\r\n\r\n          this.cmykColor = `cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${alpha})`;\r\n        } else {\r\n          this.cmykColor = `cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;\r\n        }\r\n      }\r\n\r\n      this.slider = new SliderPosition(\r\n        (this.sliderH || this.hsva.h) * this.sliderDimMax.h - 8,\r\n        this.hsva.s * this.sliderDimMax.s - 8,\r\n        (1 - this.hsva.v) * this.sliderDimMax.v - 8,\r\n        this.hsva.a * this.sliderDimMax.a - 8\r\n      );\r\n\r\n      if (emit && lastOutput !== this.outputColor) {\r\n        if (this.cpCmykEnabled) {\r\n          this.directiveInstance.cmykChanged(this.cmykColor);\r\n        }\r\n\r\n        this.directiveInstance.colorChanged(this.outputColor);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Private helper functions for the color picker dialog positioning\r\n\r\n  private setDialogPosition(): void {\r\n    if (this.cpDialogDisplay === 'inline') {\r\n      this.position = 'relative';\r\n    } else {\r\n      let position = 'static', transform = '', style;\r\n\r\n      let parentNode: any = null, transformNode: any = null;\r\n\r\n      let node = this.directiveElementRef.nativeElement.parentNode;\r\n\r\n      const dialogHeight = this.dialogElement.nativeElement.offsetHeight;\r\n\r\n      while (node !== null && node.tagName !== 'HTML' && node.nodeType != 11) { //Stop when encountering a DocumentFragment, such as Shadow Roots, as they don't have a parent\r\n        style = window.getComputedStyle(node);\r\n        position = style.getPropertyValue('position');\r\n        transform = style.getPropertyValue('transform');\r\n\r\n        if (position !== 'static' && parentNode === null) {\r\n          parentNode = node;\r\n        }\r\n\r\n        if (transform && transform !== 'none' && transformNode === null) {\r\n          transformNode = node;\r\n        }\r\n\r\n        if (position === 'fixed') {\r\n          parentNode = transformNode;\r\n\r\n          break;\r\n        }\r\n\r\n        node = node.parentNode;\r\n      }\r\n\r\n      const boxDirective = this.createDialogBox(this.directiveElementRef.nativeElement, (position !== 'fixed'));\r\n\r\n      if (this.useRootViewContainer || (position === 'fixed' &&\r\n         (!parentNode || parentNode instanceof HTMLUnknownElement)))\r\n      {\r\n        this.top = boxDirective.top;\r\n        this.left = boxDirective.left;\r\n      } else {\r\n        if (parentNode === null) {\r\n          parentNode = node;\r\n        }\r\n\r\n        const boxParent = this.createDialogBox(parentNode, (position !== 'fixed'));\r\n\r\n        this.top = boxDirective.top - boxParent.top;\r\n        this.left = boxDirective.left - boxParent.left;\r\n      }\r\n\r\n      if (position === 'fixed') {\r\n        this.position = 'fixed';\r\n      }\r\n\r\n      let usePosition = this.cpPosition;\r\n      if (this.cpPosition === 'auto') {\r\n          const winWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n          const winHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n\r\n          let usePositionX = 'right';\r\n          if ((this.left + boxDirective.width + this.dialogArrowSize - 2) + this.cpWidth > winWidth) {\r\n              usePositionX = 'left';\r\n          }\r\n\r\n          let usePositionY = 'bottom';\r\n          if ((this.top + boxDirective.height * this.cpPositionOffset / 100) + dialogHeight > winHeight) {\r\n              usePositionY = 'top';\r\n          }\r\n\r\n          usePosition = usePositionX + '-' + usePositionY;\r\n      }\r\n\r\n      this.cpUsePosition = usePosition;\r\n\r\n      if (usePosition === 'right-top') {\r\n          this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;\r\n          this.left += boxDirective.width + this.dialogArrowSize - 2;\r\n      } else if (usePosition === 'left-top') {\r\n          this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;\r\n          this.left -= this.cpWidth + this.dialogArrowSize - 2;\r\n      } else if (usePosition === 'left-bottom') {\r\n          this.top += boxDirective.height * this.cpPositionOffset / 100;\r\n          this.left -= this.cpWidth + this.dialogArrowSize - 2;\r\n      } else if (usePosition === 'right-bottom') {\r\n          this.top += boxDirective.height * this.cpPositionOffset / 100;\r\n          this.left += boxDirective.width + this.dialogArrowSize - 2;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Private helper functions for the color picker dialog positioning and opening\r\n\r\n  private isDescendant(parent: any, child: any): boolean {\r\n    let node: any = child.parentNode;\r\n\r\n    while (node !== null) {\r\n      if (node === parent) {\r\n        return true;\r\n      }\r\n\r\n      node = node.parentNode;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private createDialogBox(element: any, offset: boolean): any {\r\n    return {\r\n      top: element.getBoundingClientRect().top + (offset ? window.pageYOffset : 0),\r\n      left: element.getBoundingClientRect().left + (offset ? window.pageXOffset : 0),\r\n      width: element.offsetWidth,\r\n      height: element.offsetHeight\r\n    };\r\n  }\r\n}\r\n"]}